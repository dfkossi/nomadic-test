{"ast":null,"code":"var _jsxFileName = \"/Users/fdagbegnikin/test/taquito/carthagenet-txn-tool-master/src/App.tsx\";\nimport React, { useState } from \"react\";\nimport { Tezos } from \"@taquito/taquito\";\nimport \"./App.css\";\nimport { useForm } from \"react-hook-form\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport FAUCET_KEY from \"./utils/babylon-wallet\";\n\nconst App = () => {\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const [txnAmount, setTxnAmount] = useState(0);\n  /* const [secondValue, setSecondValue] = useState(0); */\n\n  const [txnAddress, setTxnAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [snackbar, showSnackbar] = useState(false);\n  Tezos.setProvider({\n    rpc: 'https://api.tez.ie/rpc/babylonnet'\n  });\n\n  const onSubmit = async data => {\n    await Tezos.importKey(FAUCET_KEY.email, FAUCET_KEY.password, FAUCET_KEY.mnemonic.join(\" \"), FAUCET_KEY.secret);\n    setTxnAmount(parseInt(data.amount, 10));\n    setTxnAddress(data.address);\n    showSnackbar(true);\n    const txn = Tezos.contract.at('KT1AyrqPRAgSMopSnxaT2pFUb2hM66U2pKZe').then(contract => {\n      const a = 5; //contract.methods.square(a).send();\n\n      const result = contract.methods.square(a).toTransferParams(); // const response = contract.methods.getResult(result);\n      // console.log(JSON.stringify(response))\n\n      return result;\n    }).then(op => {\n      JSON.stringify(op, null, 2);\n      fetch('https://api.tez.ie/rpc/babylonnet/chains/main/blocks/head/context/contracts/KT1AyrqPRAgSMopSnxaT2pFUb2hM66U2pKZe/script').then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(data.storage.int);\n      });\n    }).catch(error => setError(`Error: ${error} ${JSON.stringify(error, null, 2)}`));\n    return txn;\n  };\n\n  const closeSnackbar = () => {\n    showSnackbar(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"wallet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Babylonnet Transaction Tool\"), txnAddress && txnAmount ? React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    open: snackbar,\n    autoHideDuration: 3000,\n    onClose: closeSnackbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    onClose: closeSnackbar,\n    severity: \"success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, txnAmount && txnAddress ? React.createElement(React.Fragment, null, \"Sending \", txnAmount, \" to \", txnAddress, React.createElement(\"a\", {\n    target: \"_blank\",\n    href: `https://babylonnet.tzstats.com/${txnAddress}`,\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"View on TzStats\")) : null)) : null, error && React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    open: snackbar,\n    autoHideDuration: 3000,\n    onClose: closeSnackbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    onClose: closeSnackbar,\n    severity: \"warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, error)), React.createElement(\"div\", {\n    id: \"dialog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"balance-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"Receiving Address\",\n    id: \"address-input\",\n    name: \"address\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    placeholder: \"First Value\",\n    id: \"address-input\",\n    name: \"amount\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    id: \"show-balance-button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })))))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/fdagbegnikin/test/taquito/carthagenet-txn-tool-master/src/App.tsx"],"names":["React","useState","Tezos","useForm","Snackbar","MuiAlert","FAUCET_KEY","App","register","handleSubmit","txnAmount","setTxnAmount","txnAddress","setTxnAddress","error","setError","snackbar","showSnackbar","setProvider","rpc","onSubmit","data","importKey","email","password","mnemonic","join","secret","parseInt","amount","address","txn","contract","at","then","a","result","methods","square","toTransferParams","op","JSON","stringify","fetch","response","json","console","log","storage","int","catch","closeSnackbar","vertical","horizontal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAO,WAAP;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;;AAEA,MAAMC,GAAa,GAAG,MAAM;AAC1B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA6BN,OAAO,EAA1C;AACA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,CAAD,CAA1C;AACA;;AACA,QAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACe,QAAD,EAAWC,YAAX,IAA2BhB,QAAQ,CAAC,KAAD,CAAzC;AACAC,EAAAA,KAAK,CAACgB,WAAN,CAAkB;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAAlB;;AACA,QAAMC,QAAQ,GAAG,MAAOC,IAAP,IAAmC;AAClD,UAAMnB,KAAK,CAACoB,SAAN,CAAgBhB,UAAU,CAACiB,KAA3B,EAAkCjB,UAAU,CAACkB,QAA7C,EAAuDlB,UAAU,CAACmB,QAAX,CAAoBC,IAApB,CAAyB,GAAzB,CAAvD,EAAsFpB,UAAU,CAACqB,MAAjG,CAAN;AACAhB,IAAAA,YAAY,CAACiB,QAAQ,CAACP,IAAI,CAACQ,MAAN,EAAc,EAAd,CAAT,CAAZ;AACAhB,IAAAA,aAAa,CAACQ,IAAI,CAACS,OAAN,CAAb;AACAb,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAGA,UAAMc,GAAG,GAAG7B,KAAK,CAAC8B,QAAN,CACTC,EADS,CACN,sCADM,EAETC,IAFS,CAEJF,QAAQ,IAAI;AAChB,YAAMG,CAAC,GAAG,CAAV,CADgB,CAEhB;;AACA,YAAMC,MAAM,GAAGJ,QAAQ,CAACK,OAAT,CAAiBC,MAAjB,CAAwBH,CAAxB,EAA2BI,gBAA3B,EAAf,CAHgB,CAIhB;AACA;;AAEA,aAAOH,MAAP;AACD,KAVS,EAWTF,IAXS,CAWJM,EAAE,IAAI;AACVC,MAAAA,IAAI,CAACC,SAAL,CAAeF,EAAf,EAAmB,IAAnB,EAAyB,CAAzB;AACAG,MAAAA,KAAK,CAAC,yHAAD,CAAL,CACGT,IADH,CACSU,QAAD,IAAc;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAHH,EAIGX,IAJH,CAISb,IAAD,IAAU;AACdyB,QAAAA,OAAO,CAACC,GAAR,CAAY1B,IAAI,CAAC2B,OAAL,CAAaC,GAAzB;AACD,OANH;AAOD,KApBS,EAqBTC,KArBS,CAqBHpC,KAAK,IAAIC,QAAQ,CAAE,UAASD,KAAM,IAAG2B,IAAI,CAACC,SAAL,CAAe5B,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAA+B,EAAnD,CArBd,CAAZ;AAsBA,WAAOiB,GAAP;AAED,GA/BD;;AAiCA,QAAMoB,aAAa,GAAG,MAAM;AAC1BlC,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAGGL,UAAU,IAAIF,SAAd,GACC,oBAAC,QAAD;AACE,IAAA,YAAY,EAAE;AAAE0C,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KADhB;AAEE,IAAA,IAAI,EAAErC,QAFR;AAGE,IAAA,gBAAgB,EAAE,IAHpB;AAIE,IAAA,OAAO,EAAEmC,aAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,OAAO,EAAC,QAAhC;AAAyC,IAAA,OAAO,EAAEA,aAAlD;AAAiE,IAAA,QAAQ,EAAC,SAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzC,SAAS,IAAIE,UAAb,GACC,sDACWF,SADX,UAC0BE,UAD1B,EAEE;AAAG,IAAA,MAAM,EAAC,QAAV;AAAmB,IAAA,IAAI,EAAG,kCAAiCA,UAAW,EAAtE;AAAyE,IAAA,GAAG,EAAC,qBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,CADD,GAOG,IARN,CANF,CADD,GAkBG,IArBN,EAuBGE,KAAK,IACJ,oBAAC,QAAD;AACE,IAAA,YAAY,EAAE;AAAEsC,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KADhB;AAEE,IAAA,IAAI,EAAErC,QAFR;AAGE,IAAA,gBAAgB,EAAE,IAHpB;AAIE,IAAA,OAAO,EAAEmC,aAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,OAAO,EAAC,QAAhC;AAAyC,IAAA,OAAO,EAAEA,aAAlD;AAAiE,IAAA,QAAQ,EAAC,SAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,KADH,CANF,CAxBJ,EAoCE;AAAK,IAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEL,YAAY,CAACW,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,WAAW,EAAC,mBAAnB;AAAuC,IAAA,EAAE,EAAC,eAA1C;AAA0D,IAAA,IAAI,EAAC,SAA/D;AAAyE,IAAA,GAAG,EAAEZ,QAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAO,IAAA,WAAW,EAAC,aAAnB;AAAiC,IAAA,EAAE,EAAC,eAApC;AAAoD,IAAA,IAAI,EAAC,QAAzD;AAAkE,IAAA,GAAG,EAAEA,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAKE;AAAO,IAAA,EAAE,EAAC,qBAAV;AAAgC,IAAA,IAAI,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,CADF,CADF,CApCF,CAFF,CADF;AAuDD,CApGD;;AAsGA,eAAeD,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Tezos } from \"@taquito/taquito\";\nimport \"./App.css\";\nimport { useForm } from \"react-hook-form\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport FAUCET_KEY from \"./utils/babylon-wallet\";\n\nconst App: React.FC = () => {\n  const { register, handleSubmit } = useForm();\n  const [txnAmount, setTxnAmount] = useState(0);\n  /* const [secondValue, setSecondValue] = useState(0); */\n  const [txnAddress, setTxnAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [snackbar, showSnackbar] = useState(false);\n  Tezos.setProvider({ rpc: 'https://api.tez.ie/rpc/babylonnet' });\n  const onSubmit = async (data: any): Promise<any> => {\n    await Tezos.importKey(FAUCET_KEY.email, FAUCET_KEY.password, FAUCET_KEY.mnemonic.join(\" \"), FAUCET_KEY.secret);\n    setTxnAmount(parseInt(data.amount, 10));\n    setTxnAddress(data.address);\n    showSnackbar(true);\n    \n\n    const txn = Tezos.contract\n      .at('KT1AyrqPRAgSMopSnxaT2pFUb2hM66U2pKZe')\n      .then(contract => {\n        const a = 5\n        //contract.methods.square(a).send();\n        const result = contract.methods.square(a).toTransferParams();\n        // const response = contract.methods.getResult(result);\n        // console.log(JSON.stringify(response))\n\n        return result;\n      })\n      .then(op => {\n        JSON.stringify(op, null, 2);\n        fetch('https://api.tez.ie/rpc/babylonnet/chains/main/blocks/head/context/contracts/KT1AyrqPRAgSMopSnxaT2pFUb2hM66U2pKZe/script')\n          .then((response) => {\n            return response.json();\n          })\n          .then((data) => {\n            console.log(data.storage.int);\n          });\n      })\n      .catch(error => setError(`Error: ${error} ${JSON.stringify(error, null, 2)}`));\n    return txn;\n\n  };\n\n  const closeSnackbar = () => {\n    showSnackbar(false);\n  };\n\n  return (\n    <div>\n      \n      <div id=\"wallet\">\n        <h1>Babylonnet Transaction Tool</h1>\n\n        {txnAddress && txnAmount ? (\n          <Snackbar\n            anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n            open={snackbar}\n            autoHideDuration={3000}\n            onClose={closeSnackbar}\n          >\n            <MuiAlert elevation={6} variant=\"filled\" onClose={closeSnackbar} severity=\"success\">\n              {txnAmount && txnAddress ? (\n                <>\n                  Sending {txnAmount} to {txnAddress}\n                  <a target=\"_blank\" href={`https://babylonnet.tzstats.com/${txnAddress}`} rel=\"noopener noreferrer\">\n                    View on TzStats\n                  </a>\n                </>\n              ) : null}\n            </MuiAlert>\n          </Snackbar>\n        ) : null}\n\n        {error && (\n          <Snackbar\n            anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n            open={snackbar}\n            autoHideDuration={3000}\n            onClose={closeSnackbar}\n          >\n            <MuiAlert elevation={6} variant=\"filled\" onClose={closeSnackbar} severity=\"warning\">\n              {error}\n            </MuiAlert>\n          </Snackbar>\n        )}\n\n        <div id=\"dialog\">\n          <div id=\"content\">\n            <div id=\"balance-form\">\n              <form onSubmit={handleSubmit(onSubmit)}>\n                <input placeholder=\"Receiving Address\" id=\"address-input\" name=\"address\" ref={register} />\n                <br />\n                <input placeholder=\"First Value\" id=\"address-input\" name=\"amount\" ref={register} />\n\n                <input id=\"show-balance-button\" type=\"submit\" />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}